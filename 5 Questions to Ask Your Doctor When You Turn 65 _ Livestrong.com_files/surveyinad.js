"use strict";var SurveyInAd=function(){function e(){var o=this;this.sentInView=!1,this.sentInView5=!1,this.ioObserver=window.IntersectionObserver?new IntersectionObserver(function(e){.5<=e[0].intersectionRatio&&void 0===o.inViewTimerId?o.inViewTimerId=setTimeout(function(){o.sentInView||o._conf&&(window.top.postMessage({key:o._conf.key,message:o._conf.mid+"|surveyinview|1"},"*"),o.sentInView=!0),o.inViewTimerId=setTimeout(function(){o.sentInView5||o._conf&&(window.top.postMessage({key:o._conf.key,message:o._conf.mid+"|surveyinview|5"},"*"),o.sentInView5=!0)},4e3)},1e3):void 0!==o.inViewTimerId&&(clearTimeout(o.inViewTimerId),o.inViewTimerId=void 0)},{threshold:[0,.5]}):void 0,this.handleMessage=function(e){var i;try{var n=e.data;if(n.key===o._key&&null!==o._key){o._key=null;var t=o.LoadSurvey(n);void 0!==(o._conf=n).mid&&(null===(i=o.ioObserver)||void 0===i||i.observe(t))}}catch(e){}},this._key=this.guid(),window.addEventListener("message",this.handleMessage,!1),window.top.postMessage({key:this._key,req:"get"},"*")}return e.prototype.LoadSurvey=function(e){var i=document.createElement("iframe");if(!("sandbox"in i))throw new Error("Sandbox not supported");return i.sandbox.value="allow-scripts",i.height=(document.body.clientHeight||250)+"px",i.style.cssText=e.iframeCss,i.src=e.url,i.scrolling="no",document.body.appendChild(i),i.style.display="block",i},e.prototype.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e}(),s=new SurveyInAd;